# 农场模拟经营游戏 - 核心玩法循环图

## 主要玩法循环图

```mermaid
graph TD
    A[游戏开始] --> B[初始资源]
    B --> C{选择行动}
    
    %% 种植循环
    C --> D[种植作物]
    D --> D1[选择种子]
    D1 --> D2[耕地]
    D2 --> D3[播种]
    D3 --> D4[浇水]
    D4 --> D5[等待生长]
    D5 --> D6{作物成熟?}
    D6 -->|否| D7[时间推进]
    D7 --> D6
    D6 -->|是| D8[收获作物]
    D8 --> E[获得物品]
    
    %% 采集循环
    C --> F[采集资源]
    F --> F1[砍伐树木]
    F --> F2[采摘野果]
    F --> F3[挖掘矿物]
    F1 --> E
    F2 --> E
    F3 --> E
    
    %% 交易循环
    C --> G[与NPC交易]
    G --> G1[寻找NPC]
    G1 --> G2[查看商品]
    G2 --> G3{有足够金币?}
    G3 -->|否| H[赚取金币]
    G3 -->|是| G4[购买物品]
    G4 --> E
    
    %% 物品管理
    E --> I[背包管理]
    I --> I1{背包已满?}
    I1 -->|是| I2[整理背包]
    I1 -->|否| I3[存储物品]
    I2 --> I3
    I3 --> J[物品用途选择]
    
    %% 物品用途分支
    J --> K[出售获利]
    J --> L[制作工具]
    J --> M[种植材料]
    J --> N[建造设施]
    
    K --> O[获得金币]
    L --> P[提升效率]
    M --> D1
    N --> Q[扩展农场]
    
    %% 进度提升
    O --> R[经济增长]
    P --> S[工作效率提升]
    Q --> T[农场规模扩大]
    
    R --> U[解锁新内容]
    S --> U
    T --> U
    
    U --> V{达成目标?}
    V -->|否| C
    V -->|是| W[游戏胜利/新阶段]
    
    %% 时间系统
    H --> H1[完成任务]
    H --> H2[出售物品]
    H1 --> O
    H2 --> O
    
    %% 样式设置
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#fff3e0
    style D fill:#e8f5e8
    style F fill:#e8f5e8
    style G fill:#fff8e1
    style E fill:#f1f8e9
    style I fill:#fce4ec
    style U fill:#e3f2fd
    style W fill:#c8e6c9
    
    classDef actionNode fill:#ffeb3b,stroke:#f57f17,stroke-width:2px
    classDef decisionNode fill:#ff9800,stroke:#e65100,stroke-width:2px
    classDef resourceNode fill:#4caf50,stroke:#2e7d32,stroke-width:2px
    classDef progressNode fill:#2196f3,stroke:#1565c0,stroke-width:2px
    
    class D,F,G actionNode
    class C,D6,G3,I1,V decisionNode
    class E,O,P,Q resourceNode
    class R,S,T,U progressNode
```

## 详细子系统循环图

### 1. 种植系统循环

```mermaid
graph LR
    A[选择种子] --> B[检查土地]
    B --> C{土地可用?}
    C -->|否| D[清理土地]
    D --> E[耕地]
    C -->|是| E
    E --> F[播种]
    F --> G[浇水护理]
    G --> H[时间推进]
    H --> I{作物成熟?}
    I -->|否| J[继续护理]
    J --> H
    I -->|是| K[收获]
    K --> L[获得产物]
    L --> M{可重复收获?}
    M -->|是| N[等待再生]
    N --> I
    M -->|否| O[清理土地]
    O --> A
    
    style A fill:#e8f5e8
    style K fill:#4caf50
    style L fill:#81c784
```

### 2. 资源管理循环

```mermaid
graph TD
    A[获得物品] --> B[背包检查]
    B --> C{背包空间足够?}
    C -->|否| D[整理背包]
    D --> E[出售多余物品]
    E --> F[获得金币]
    C -->|是| G[存储物品]
    G --> H[物品分类]
    H --> I[种植材料]
    H --> J[制作材料]
    H --> K[交易商品]
    H --> L[消耗品]
    
    I --> M[用于种植]
    J --> N[制作工具/设施]
    K --> O[出售获利]
    L --> P[日常使用]
    
    F --> Q[购买新物品]
    M --> R[提升产量]
    N --> S[提升效率]
    O --> F
    P --> T[维持运营]
    
    Q --> A
    R --> A
    S --> A
    T --> A
    
    style A fill:#fff3e0
    style F fill:#4caf50
    style Q fill:#2196f3
```

### 3. NPC交互循环

```mermaid
graph LR
    A[寻找NPC] --> B[触发对话]
    B --> C[查看选项]
    C --> D{交易?}
    C --> E{任务?}
    C --> F{对话?}
    
    D --> G[查看商品]
    G --> H{有足够金币?}
    H -->|是| I[购买物品]
    H -->|否| J[赚取金币]
    I --> K[获得物品]
    
    E --> L[接受任务]
    L --> M[完成任务]
    M --> N[获得奖励]
    
    F --> O[获得信息]
    O --> P[推进剧情]
    
    J --> Q[种植/采集]
    Q --> R[出售物品]
    R --> S[获得金币]
    S --> G
    
    K --> T[结束交互]
    N --> T
    P --> T
    T --> A
    
    style A fill:#e1f5fe
    style K fill:#4caf50
    style N fill:#4caf50
    style P fill:#9c27b0
```

### 4. 时间与进度系统

```mermaid
graph TD
    A[新的一天开始] --> B[检查作物状态]
    B --> C[作物生长]
    C --> D[NPC行为更新]
    D --> E[市场价格变化]
    E --> F[天气系统]
    F --> G[玩家行动]
    G --> H[完成日常任务]
    H --> I[经验值增长]
    I --> J{等级提升?}
    J -->|是| K[解锁新内容]
    J -->|否| L[一天结束]
    K --> L
    L --> M[保存进度]
    M --> N{达成阶段目标?}
    N -->|否| A
    N -->|是| O[进入新阶段]
    O --> A
    
    style A fill:#fff8e1
    style K fill:#4caf50
    style O fill:#2196f3
```

## 核心玩法要素说明

### 🌱 **种植系统**
- **耕地** → **播种** → **护理** → **收获** → **再种植**
- 不同作物有不同的生长周期和收益
- 季节和天气影响作物生长

### 💰 **经济系统**
- **收获物品** → **出售获利** → **购买升级** → **提升效率**
- 市场价格波动影响收益策略
- 投资回报循环驱动游戏进程

### 🤝 **社交系统**
- **与NPC交互** → **建立关系** → **解锁内容** → **获得帮助**
- 任务系统提供目标导向
- 对话系统推进故事情节

### ⚡ **进度系统**
- **完成活动** → **获得经验** → **等级提升** → **解锁功能**
- 技能树系统提供成长路径
- 成就系统增加游戏深度

这个核心玩法循环图展示了农场游戏的完整生态系统，每个环节都相互关联，形成了一个自我强化的游戏循环，让玩家在种植、收获、交易、升级的过程中获得持续的成就感和进步感。 